<div id="ion-refresher-padding">
  <ion-content>
    <!-- TODO - EL REFRESHER SOLO DEBERÍA ACTIVARSE CUANDO ESTÁS ARRIBA EN LA PANTALLA, NO AL HACER EL GESTO DE HACER SCROLL HACIA ARRIBA -->
    <ion-refresher slot="fixed" (ionRefresh)="refreshGameSession($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

    <div id="background">
      <!-- UBICACIÓN DE LA SESIÓN -->
      <div class="header">
        <button mat-icon-button id="return-button" (click)="navigateTournament()">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <div class="header-label" matTooltip="Ubicación seleccionada para la sesión de juego">
          <mat-label>Sesión de juego</mat-label>
          <mat-label>Piscina de caña</mat-label>
        </div>
      </div>


      <!-- DETALLES DE LA SESIÓN -->
      <div class="subheader">
        <mat-icon>calendar_month</mat-icon>
        <mat-label>15 de mayo 2024</mat-label>
        <span class="separator"></span>
        <mat-label>28</mat-label>
        <mat-icon>emoji_events</mat-icon>
      </div>


      <!-- PODIO 3 MEJORES JUGADORES DE LA SESIÓN -->
      <div id="leaderboard">
        <div class="item">
          <img src="assets/images/second-place-medal.png" class="medal">
          <img src="assets/images/profile.jpg" class="user-image">
          <mat-label class="username">Gorpax</mat-label>
          <mat-label class="user-victories">32 victorias</mat-label>
        </div>
        <div class="item first-place">
          <img src="assets/images/first-place-medal.png" class="medal">
          <img src="assets/images/profile.jpg" class="user-image">
          <mat-label class="username">Gorpax</mat-label>
          <mat-label class="user-victories">32 victorias</mat-label>
        </div>
        <div class="item">
          <img src="assets/images/third-place-medal.png" class="medal">
          <img src="assets/images/profile.jpg" class="user-image">
          <mat-label class="username">Gorpax</mat-label>
          <mat-label class="user-victories">32 victorias</mat-label>
        </div>
      </div>


      <!-- AÑADIR PARTIDA -->
      <mat-card class="add-game-container">
        <mat-card-content (click)="manageGameMatch()">
          <div class="add-game" matRipple>
            <div class="add-game-icon-display">
              <div class="icon-container">
                <div class="mini-icon">
                  <mat-icon>add</mat-icon>
                </div>
                <mat-icon>emoji_events</mat-icon>
              </div>
              <mat-label>Elegir ganador(es)</mat-label>
            </div>
            <div class="add-game-information">
              <mat-label class="header">Nueva partida</mat-label>
              <mat-label class="subheader">Solo se registran los jugadores en las tres primeras posiciones, por debajo
                de estas se registra como partida perdida.</mat-label>
            </div>
          </div>
          <div class="new-game" matRipple>
            <mat-icon>add</mat-icon>
            <mat-label>Nueva partida</mat-label>
          </div>
        </mat-card-content>
      </mat-card>


      <!-- BARRA DE ACCIONES DISPONIBLES -->
      <div class="actions-carrousel-container">
        <div class="card-carrousel">
          <!-- EDITAR DATOS DE SESIÓN -->
          <mat-card>
            <mat-card-content matRipple>
              <mat-icon>edit_note</mat-icon>
              <mat-label class="card-header">Cambiar parámetros</mat-label>
              <mat-label class="card-value">Ajustes</mat-label>
            </mat-card-content>
          </mat-card>

          <!-- FINALIZAR SESIÓN Y GUARDAR -->
          <mat-card>
            <mat-card-content matRipple>
              <mat-icon>logout</mat-icon>
              <mat-label class="card-header">Finalizar y guardar de verdad de la buena</mat-label>
              <mat-label class="card-value">Finalizar sesión</mat-label>
            </mat-card-content>
          </mat-card>

          <!-- FINALIZAR SESIÓN Y GUARDAR -->
          <mat-card>
            <mat-card-content matRipple>
              <mat-icon>logout</mat-icon>
              <mat-label class="card-header">Finalizar y guardar</mat-label>
              <mat-label class="card-value">Finalizar sesión te lo aseguro por dios</mat-label>
            </mat-card-content>
          </mat-card>

          <!-- FINALIZAR SESIÓN Y GUARDAR -->
          <mat-card>
            <mat-card-content matRipple>
              <mat-icon>logout</mat-icon>
              <mat-label class="card-header">Finalizar y guardar</mat-label>
              <mat-label class="card-value">Finalizar sesión</mat-label>
            </mat-card-content>
          </mat-card>
        </div>
      </div>


      <!-- TABLAS DE HISTORIAL DE PARTIDAS -->
      <mat-card>
        <mat-card-content class="match-history-container">
          <!-- init="false" impide que el componente se carge hasta que se llame a la clase initialize() -->
          <swiper-container #matchHistorySwiperHeader class="match-history swiper-header">
            <swiper-slide>
              <div class="swiper-header-container" [class.show-active-slide]="false">
                <mat-label>1ª partida</mat-label>
              </div>
            </swiper-slide>
            <swiper-slide>
              <div class="swiper-header-container" [class.show-active-slide]="true">
                <mat-label>2ª partida</mat-label>
              </div>
            </swiper-slide>
            <swiper-slide>
              <div class="swiper-header-container" [class.show-active-slide]="false">
                <mat-label>3ª partida</mat-label>
              </div>
            </swiper-slide>
            <swiper-slide>
              <div class="swiper-header-container" [class.show-active-slide]="false">
                <mat-label>4ª partida</mat-label>
              </div>
            </swiper-slide>
          </swiper-container>

          <swiper-container #matchHistorySwiperBody class="match-history swiper-body"
            thumbs-swiper=".match-history.swiper-header">
            <swiper-slide *ngFor="let item of [0,0,0,0]">
              <div class="match-history-table">
                <div matRipple class="match-history-item">
                  <img src="assets/images/profile.jpg" alt="profile" class="user-image">
                  <div class="user-match-result">
                    <mat-label>Gorpax</mat-label>
                    <mat-label>1ª posición</mat-label>
                  </div>
                  <span class="separator"></span>
                  <img src="assets/images/first-place-medal.png" alt="profile" class="match-result-image">
                </div>

                <div matRipple class="match-history-item">
                  <img src="assets/images/profile.jpg" alt="profile" class="user-image">
                  <div class="user-match-result">
                    <mat-label>Gorpax</mat-label>
                    <mat-label>2ª posición</mat-label>
                  </div>
                  <span class="separator"></span>
                  <img src="assets/images/second-place-medal.png" alt="profile" class="match-result-image">
                </div>

                <div matRipple class="match-history-item">
                  <img src="assets/images/profile.jpg" alt="profile" class="user-image">
                  <div class="user-match-result">
                    <mat-label>Gorpax</mat-label>
                    <mat-label>3ª posición</mat-label>
                  </div>
                  <span class="separator"></span>
                  <img src="assets/images/third-place-medal.png" alt="profile" class="match-result-image">
                </div>

                <div matRipple class="match-history-item">
                  <img src="assets/images/profile.jpg" alt="profile" class="user-image">
                  <div class="user-match-result">
                    <mat-label>Gorpax</mat-label>
                    <mat-label>4ª posición</mat-label>
                  </div>
                  <span class="separator"></span>
                  <img src="assets/images/last-place-medal.svg" alt="profile" class="match-result-image">
                </div>
              </div>
            </swiper-slide>
          </swiper-container>
        </mat-card-content>
      </mat-card>
    </div>
  </ion-content>
</div>
